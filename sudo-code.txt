variable pitch
variable roll
variable yaw //not important
CONSTANT height to motor

MOTOR MAP:
1       2
 \     /
  \   /
   \ /      <------- positive roll
   / \
  /   \
 /     \
3       4
    ^
    |
    Negative pitch

start(){
  Initialize stuff
}
loop(){
  checkForControls()
  checkForStabilization()
  renderMotorSpeeds()
}

function check for controls:
  variable destinationHeight = take left-joystick y-position
  variable changePitch = take right-joystick y-position
  variable changeRoll = take right-joystick x-position
  changeHeight = destinationHeight - currentHeight
  motor1 = - changePitch + changeRoll
  motor2 = - changePitch - changeRoll
  motor3 = + changePitch + changeRoll
  motor4 = + changePitch - changeRoll

find error:
  motor1error = roll-pitch
  motor2error = -roll-pitch
  motor3error = roll+pitch
  motor3error = -roll+pitch

function check for stabilization:
  findError()
  motor1destination = changeHeight + 0.1(motor1) + motor1error
  motor2destination = changeHeight + 0.1(motor2) + motor2error
  motor3destination = changeHeight + 0.1(motor3) + motor3error
  motor3destination = changeHeight + 0.1(motor4) + motor4error
  motor1value = motor1Current + motor1destination
  motor2value = motor2Current + motor2destination
  motor3value = motor3Current + motor3destination
  motor4value = motor4Current + motor4destination

renderMotorSpin:
  set motor1 to motor1value
  set motor2 to motor2value
  set motor3 to motor3value
  set motor4 to motor4value
